# TFW (TIFF World File), Strip TIFF, and Predictor Support

## Summary

Added support for plain TIFFs with TFW sidecar files for georeferencing, strip-based
TIFF layouts (as opposed to tiled/COG), and horizontal differencing predictor decoding
for LZW/Deflate compressed TIFFs.

## Changes

### New file: `internal/cog/tfw.go`
- TFW parser: reads the 6-line world file format (pixel scale, rotation, origin)
- TFW finder: searches for `.tfw`, `.TFW`, `.tifw`, `.TIFW` sidecars alongside a `.tif`
- TFW-to-GeoInfo conversion: adjusts from pixel-center to pixel-corner origin
- EPSG inference: heuristic based on coordinate ranges when GeoTIFF tags are absent

### Modified: `internal/cog/ifd.go`
- Added `StripOffsets`, `StripByteCounts`, `RowsPerStrip` fields to IFD struct
- Parse strip tags (273, 279, 278) in `buildIFD`

### Modified: `internal/coord/mercator.go`
- `LonLatToTile()`: clamp latitude to ±85.0511° (Web Mercator valid range) before
  the Mercator projection to prevent Inf/NaN that silently collapsed the tile grid
  to a single row for global datasets

### Modified: `internal/cog/reader.go`
- `Open()` now handles strip-based TIFFs via `promoteStripsToTiles()`
- `Open()` falls back to TFW georeferencing when GeoTIFF tags are absent
- `Open()` infers EPSG from coordinate ranges when GeoKeys missing
- `promoteStripsToTiles()`: merges small strips into virtual tiles >= 256 rows tall
- `readStripTileRaw()`: reads and decompresses individual strips, concatenates for virtual tile
- `ReadTile()` and `readTileRaw()`: strip-aware code path for level 0
- `undoHorizontalDifferencing()`: reverses TIFF predictor=2 after LZW/Deflate decompression
- Predictor applied in both tiled and strip read paths

## Testing

Tested with Natural Earth HYP_HR_SR_OB_DR dataset:
- 32400x16200 LZW-compressed (predictor=2) TIFF with RowsPerStrip=2 and TFW sidecar
- EPSG:4326 (WGS84), world-spanning coverage (±180°/±90°)
- Pixel values verified: ocean blues (R~110, G~165, B~207), land greens (R~153, G~184, B~168)
- Successfully converted to PMTiles at zoom 0-5 (1365 tiles, 31.7 MB JPEG)
- Full tile coverage: 1024 tiles at z5, 256 at z4, 64 at z3, 16 at z2, 4 at z1, 1 at z0
- All existing tests pass
